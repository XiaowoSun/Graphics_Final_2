---
title: "Report(Draft)"
author: "Xiaowo Sun"
date: "4/25/2019"
output: 
  html_document:
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tibble)
library(tidyverse) 
library(dplyr)
library(Hmisc)
library(funModeling)
library(stringr)
library(readr)
```

# I. Introduction 

New York City is a heaven for food-loving people (like us), who will find many opportunities to sample cuisine from all cultures and at every price level, from street vendors to the finest high-end restaurants. The challenge for foodies may be in determining which place to go to so that we can enjoy a fantastic meal. 

However, sometimes 

The becomes one of the top concerns for the challenge.

We would like to look into the restaurant inspection conducted by the government to gain some insights.


# II. Description of the data source

We are using the Restaurant Inspection Data provided by Department of Health and Mental Hygiene (DOHMH) from NYC Open Data for this project.(https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j) Since this is a daily updated dataset, we are using the version which was updated on April 18, 2019.

The dataset has 383,587 records and 18 variables, containing NYC restaurant inspection results for up to three years prior to the most recent inspection. In this dataset, when an inspection results in more than one violation, values for associated fields are repeated for each additional violation record. There are 8 variables showing the basic information of each restaurant, such as the restaurant name, location, phone number and cuisine type. The others describe several aspects of each inspection, such as the inspection date, inspection type, violation details, score, grade, grade date, etc.

According to the DOHMH, restaurants that go out of business are removed. In addition, scores current as of today may be revised due to adjudication in subsequent weeks or months, as restaurants can choose to go through the adjudication process or use other rights to argue their cases, which could take weeks even months. Therefore, we can see that this dataset is not valid enough to compare current scores to scores from previous years for each restaurant.

Records are also included for each restaurant that has applied for a permit but has not yet been inspected with inspection date of 01/01/1900. Since we are only interested in the restaurants that have been inspected, these records will be ignored.

In addition, this dataset is compiled from several large administrative data systems, which leads to missing values and some illogical values that could be a result of data entry or transfer errors.


# III. Description of data import / cleaning / transformation

(Describe the process of getting the data into a form in which you could work with it in R.)

(For `BORO`, there are 148 cells having values as "missing". After checking these records, we found out that all of these "missing" values can be replaced by the true boroughs by looking into `BUILDING`, `STREET`, `ZIPCODE`. )

remove records with inspection date of 01/01/1900
convert data type
handle missing/illogical value: 
replace "missing" in `BORO` by checking Google Map using other variables.
set `PHONE` with less than 10 digits or contain special characters or only 0 as `NA`
modified some characters for `CUISINE.DESCRIPTION`
set `SCORE` with -1 as `NA`

add new columns for potential usage in the future
convert date columns to datetype
create an `Address` column, combining location related variables


# IV. Analysis of missing values

(Describe any patterns you discover in missing values.)

#### No pattern:
BUILDING:
NA 229

ZIPCODE: 
NA 5627

CUISINE:
Not Listed/Not Applicable 116

#### VIOLATION
VIOLATION CODE:
NA 5287

VIOLATION DESCRIPTION:
NA 7834

CRITICAL:
NOT APPLICABLE 7834 (when there is no violation description, the`CRITICAL`=="NOT APPLICABLE")

#### SCORE, GRADE, GRADE DATE (still working on this part)
SCORE:
-1  145
0 1570
NA 17778

GRADE:
NA 189703
NOT YET GRADED 2382
"G" 8 (7)

GRADE DATE:
NA 192081



# V. Results
Provide a short nontechnical summary of the most revealing findings of your analysis written for a nontechnical audience. Take extra care to clean up your graphs, ensuring that best practices for presentation are followed, as described in the presentation style section below.

Note: “Presentation” here refers to the style of graph, that is, graphs that are cleaned up for presentation, as opposed to the rough ones we often use for exploratory data analysis. You do not have to present your work to the class!

# VI. Interactive component



# VII. Conclusion
Discuss limitations and future directions, lessons learned.
